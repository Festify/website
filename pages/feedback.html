<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/html">
<head lang="en">
    <meta charset="UTF-8">
    <title>Submit Feedback - Festify</title>

    <!--<link rel="stylesheet" href="bower_components/fontawesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="bower_components/normalize.css/normalize.css" type="text/css">
    <link rel="stylesheet" href="css/style.css" type="text/css">-->
    <link rel="stylesheet" href="css/style.min.css" type="text/css">
    <link rel="shortcut icon" href="/favicon.ico">

    <meta name=viewport content="width=device-width, initial-scale=1">
    <meta name="description" content="If you have found a bug or if you have an idea for a new feature, please send it to us using this feedback form.">

    <meta name=”twitter:site” content=”@GetFestify”>
    <meta name="twitter:image" content="http://getfestify.de/img/festify-logo-beta.png">
</head>
<body>

<header class="bright">
    <div class="inner">
        <a href="/" class="logo">
            <img src="../img/festify-logo-beta-small.png" width="40" height="40">
            <span class="brand">Festify</span>
        </a>
    </div>
</header>

<section class="dark" id="start">
    <div class="party-background"></div>

    <div class="inner">
        <h1>Give us Feedback!</h1>

        <p class="jumbo">
            If you've found a bug in Festify or if you have a new idea or suggestion,
            just send it to us using the feedback form below.
        </p>
    </div>
</section>

<section class="bright" id="feedback">
    <div class="inner">
        <div class="error-text">
            <h2>Oops, something went wrong while submitting your feedback. Please send us a mail.</h2>
        </div>

        <div class="success-text">
            <h2>Thanks for your Feedback! We'll respond as soon as possible.</h2>
        </div>

        <div class="form">
            <input id="name" type="text" placeholder="Your Name">
            <input id="mail" type="text" placeholder="Your E-Mail Address">
            <select id="platform">
                <option name="Mac OS App">Mac OS App</option>
                <option name="Windows App">Windows App</option>
                <option name="Web Client">Web Client</option>
                <option name="Doesn't matter">Doesn't matter</option>
            </select>
            <textarea id="text" placeholder="Your Feedback. Please give us as many details as possible."></textarea>
            <button onclick="sendAJAX()" id="submitBtn" class="btn btn-primary btn-block">Submit Feedback</button>
        </div>
    </div>
</section>

<footer class="dark">
    <div class="inner">
        <p class="left">
            &copy; Leo Bernard & Moritz Gunz 2015 / <a href="impressum.html">Impressum</a>
        </p>

        <p class="right">
            Made with <i class="fa fa-heart"></i> in Germany
        </p>

        <div class="clearfix"></div>
    </div>
</footer>

<script>
    function sendAJAX(){
        var name = document.getElementById("name").value;
        var mail = document.getElementById("mail").value;
        var text = document.getElementById("text").value;
        var platform = document.getElementById("platform").value;
        var section = document.getElementById("feedback");

        console.log("Sending Report with Name:", name, "Mail:", mail, "Platform:", platform, "Text:", text);

        var r = new XMLHttpRequest();
        r.open("POST", "https://festify.us/api/feedback", true);
        r.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
        r.onreadystatechange = function () {
            if(r.readyState != 4) return;

            if (r.status != 200) {
                console.log("Error!", r);
                section.className = "bright error";
            }else{
                console.log("Success!", r);
                section.className = "bright success";
            }
        };

        r.send("name=" + encodeURI(name) + "&platform=" + encodeURI(platform) + "&mail=" + encodeURI(mail) + "&text=" + encodeURI(text));
        document.getElementById("submitBtn").enabled = false;
    }
</script>

<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-61806395-2', 'auto');
    ga('send', 'pageview');

</script>

<script>!function(){function a(){}function b(a){return f.retinaImageSuffix+a}function c(a,c){if(this.path=a||"","undefined"!=typeof c&&null!==c)this.at_2x_path=c,this.perform_check=!1;else{if(void 0!==document.createElement){var d=document.createElement("a");d.href=this.path,d.pathname=d.pathname.replace(g,b),this.at_2x_path=d.href}else{var e=this.path.split("?");e[0]=e[0].replace(g,b),this.at_2x_path=e.join("?")}this.perform_check=!0}}function d(a){this.el=a,this.path=new c(this.el.getAttribute("src"),this.el.getAttribute("data-at2x"));var b=this;this.path.check_2x_variant(function(a){a&&b.swap()})}var e="undefined"==typeof exports?window:exports,f={retinaImageSuffix:"@2x",check_mime_type:!0,force_original_dimensions:!0};e.Retina=a,a.configure=function(a){null===a&&(a={});for(var b in a)a.hasOwnProperty(b)&&(f[b]=a[b])},a.init=function(a){null===a&&(a=e);var b=a.onload||function(){};a.onload=function(){var a,c,e=document.getElementsByTagName("img"),f=[];for(a=0;a<e.length;a+=1)c=e[a],c.getAttributeNode("data-no-retina")||f.push(new d(c));b()}},a.isRetina=function(){var a="(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)";return e.devicePixelRatio>1?!0:e.matchMedia&&e.matchMedia(a).matches?!0:!1};var g=/\.\w+$/;e.RetinaImagePath=c,c.confirmed_paths=[],c.prototype.is_external=function(){return!(!this.path.match(/^https?\:/i)||this.path.match("//"+document.domain))},c.prototype.check_2x_variant=function(a){var b,d=this;return this.is_external()?a(!1):this.perform_check||"undefined"==typeof this.at_2x_path||null===this.at_2x_path?this.at_2x_path in c.confirmed_paths?a(!0):(b=new XMLHttpRequest,b.open("HEAD",this.at_2x_path),b.onreadystatechange=function(){if(4!==b.readyState)return a(!1);if(b.status>=200&&b.status<=399){if(f.check_mime_type){var e=b.getResponseHeader("Content-Type");if(null===e||!e.match(/^image/i))return a(!1)}return c.confirmed_paths.push(d.at_2x_path),a(!0)}return a(!1)},b.send(),void 0):a(!0)},e.RetinaImage=d,d.prototype.swap=function(a){function b(){c.el.complete?(f.force_original_dimensions&&(c.el.setAttribute("width",c.el.offsetWidth),c.el.setAttribute("height",c.el.offsetHeight)),c.el.setAttribute("src",a)):setTimeout(b,5)}"undefined"==typeof a&&(a=this.path.at_2x_path);var c=this;b()},a.isRetina()&&a.init(e)}();</script>
</body>
</html>